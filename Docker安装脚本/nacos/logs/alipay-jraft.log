2024-04-25 17:04:35,860 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2024-04-25 17:04:36,020 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2024-04-25 17:04:36,947 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2024-04-25 17:04:36,948 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2024-04-25 17:04:36,948 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2024-04-25 17:04:36,962 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2024-04-25 17:04:36,970 INFO The number of active nodes increment to 1.

2024-04-25 17:04:37,486 INFO Starts FSMCaller successfully.

2024-04-25 17:04:37,497 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service/snapshot.

2024-04-25 17:04:37,562 INFO Node <naming_persistent_service/a6955b479796:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=a6955b479796:7848, oldConf=.

2024-04-25 17:04:37,586 INFO Node <naming_persistent_service/a6955b479796:7848> start vote and grant vote self, term=0.

2024-04-25 17:04:37,660 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service/meta-data, term=1, votedFor=a6955b479796:7848, cost time=62 ms

2024-04-25 17:04:37,660 INFO Node <naming_persistent_service/a6955b479796:7848> become leader of group, term=1, conf=a6955b479796:7848, oldConf=.

2024-04-25 17:04:37,663 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2024-04-25 17:04:37,683 INFO onLeaderStart: term=1.

2024-04-25 17:04:37,685 ERROR Handle FSMCallerImpl disruptor event error, event is com.alipay.sofa.jraft.core.FSMCallerImpl$ApplyTask@286795a4

java.lang.NullPointerException: null
	at com.alibaba.nacos.core.distributed.raft.NacosStateMachine.onLeaderStart(NacosStateMachine.java:198)
	at com.alipay.sofa.jraft.core.NodeImpl$ConfigurationChangeDone.run(NodeImpl.java:2234)
	at com.alipay.sofa.jraft.core.FSMCallerImpl.doCommitted(FSMCallerImpl.java:501)
	at com.alipay.sofa.jraft.core.FSMCallerImpl.runApplyTask(FSMCallerImpl.java:440)
	at com.alipay.sofa.jraft.core.FSMCallerImpl.access$100(FSMCallerImpl.java:73)
	at com.alipay.sofa.jraft.core.FSMCallerImpl$ApplyTaskHandler.onEvent(FSMCallerImpl.java:148)
	at com.alipay.sofa.jraft.core.FSMCallerImpl$ApplyTaskHandler.onEvent(FSMCallerImpl.java:142)
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:137)
	at java.lang.Thread.run(Thread.java:748)
2024-04-25 17:04:37,685 WARN RPC server is not started in RaftGroupService.

2024-04-25 17:04:37,685 INFO Start the RaftGroupService successfully.

2024-04-25 17:25:08,622 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2024-04-25 17:25:08,711 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2024-04-25 17:25:08,957 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2024-04-25 17:25:08,957 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2024-04-25 17:25:08,957 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2024-04-25 17:25:08,971 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2024-04-25 17:25:08,975 INFO The number of active nodes increment to 1.

2024-04-25 17:25:09,292 INFO Starts FSMCaller successfully.

2024-04-25 17:25:09,300 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2024-04-25 17:25:09,484 INFO Node <naming_persistent_service_v2/527c83433216:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=527c83433216:7848, oldConf=.

2024-04-25 17:25:09,487 INFO Node <naming_persistent_service_v2/527c83433216:7848> start vote and grant vote self, term=0.

2024-04-25 17:25:09,509 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=527c83433216:7848, cost time=16 ms

2024-04-25 17:25:09,509 INFO Node <naming_persistent_service_v2/527c83433216:7848> become leader of group, term=1, conf=527c83433216:7848, oldConf=.

2024-04-25 17:25:09,513 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2024-04-25 17:25:09,517 WARN RPC server is not started in RaftGroupService.

2024-04-25 17:25:09,517 INFO Start the RaftGroupService successfully.

2024-04-25 17:25:09,555 INFO onLeaderStart: term=1.

2024-04-25 17:25:09,568 INFO The number of active nodes increment to 2.

2024-04-25 17:25:09,659 WARN Channel in TRANSIENT_FAILURE state: 527c83433216:7848.

2024-04-25 17:25:09,659 WARN Channel in SHUTDOWN state: 527c83433216:7848.

2024-04-25 17:25:09,731 INFO Starts FSMCaller successfully.

2024-04-25 17:25:09,731 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2024-04-25 17:25:09,734 INFO Node <naming_instance_metadata/527c83433216:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=527c83433216:7848, oldConf=.

2024-04-25 17:25:09,734 INFO Node <naming_instance_metadata/527c83433216:7848> start vote and grant vote self, term=0.

2024-04-25 17:25:09,755 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=527c83433216:7848, cost time=21 ms

2024-04-25 17:25:09,756 INFO Node <naming_instance_metadata/527c83433216:7848> become leader of group, term=1, conf=527c83433216:7848, oldConf=.

2024-04-25 17:25:09,756 WARN RPC server is not started in RaftGroupService.

2024-04-25 17:25:09,756 INFO Start the RaftGroupService successfully.

2024-04-25 17:25:09,772 INFO onLeaderStart: term=1.

2024-04-25 17:25:09,873 INFO The number of active nodes increment to 3.

2024-04-25 17:25:10,045 INFO Starts FSMCaller successfully.

2024-04-25 17:25:10,045 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2024-04-25 17:25:10,089 INFO Node <naming_service_metadata/527c83433216:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=527c83433216:7848, oldConf=.

2024-04-25 17:25:10,090 INFO Node <naming_service_metadata/527c83433216:7848> start vote and grant vote self, term=0.

2024-04-25 17:25:10,100 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=527c83433216:7848, cost time=11 ms

2024-04-25 17:25:10,101 INFO Node <naming_service_metadata/527c83433216:7848> become leader of group, term=1, conf=527c83433216:7848, oldConf=.

2024-04-25 17:25:10,101 WARN RPC server is not started in RaftGroupService.

2024-04-25 17:25:10,101 INFO Start the RaftGroupService successfully.

2024-04-25 17:25:10,147 INFO onLeaderStart: term=1.

2024-04-25 17:44:41,569 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2024-04-25 17:44:41,569 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2024-04-25 17:50:16,839 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2024-04-25 17:50:16,839 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2024-04-25 17:50:57,416 INFO Node <naming_service_metadata/527c83433216:7848> shutdown, currTerm=1 state=STATE_LEADER.

2024-04-25 17:50:57,417 INFO Fail to find the next candidate.

2024-04-25 17:50:57,417 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2024-04-25 17:50:57,420 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=527c83433216:7848, cost time=3 ms

2024-04-25 17:50:57,420 INFO Shutting down FSMCaller...

2024-04-25 17:50:57,420 INFO onShutdown.

2024-04-25 17:50:57,421 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@75b0ce70[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:50:57,421 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@70c4133b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:50:57,421 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/527c83433216:7848>'}.

2024-04-25 17:50:57,421 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/527c83433216:7848>'}.

2024-04-25 17:50:57,421 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/527c83433216:7848>'}.

2024-04-25 17:50:57,421 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/527c83433216:7848>'}.

2024-04-25 17:50:57,421 INFO The number of active nodes decrement to 2.

2024-04-25 17:50:57,422 INFO Node <naming_service_metadata/527c83433216:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2024-04-25 17:50:57,422 INFO Stop the RaftGroupService successfully.

2024-04-25 17:50:57,422 INFO Node <naming_instance_metadata/527c83433216:7848> shutdown, currTerm=1 state=STATE_LEADER.

2024-04-25 17:50:57,422 INFO Fail to find the next candidate.

2024-04-25 17:50:57,422 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2024-04-25 17:50:57,425 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=527c83433216:7848, cost time=3 ms

2024-04-25 17:50:57,425 INFO Shutting down FSMCaller...

2024-04-25 17:50:57,425 INFO onShutdown.

2024-04-25 17:50:57,425 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4688fd54[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:50:57,426 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@43c5fbd3[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:50:57,426 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/527c83433216:7848>'}.

2024-04-25 17:50:57,426 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/527c83433216:7848>'}.

2024-04-25 17:50:57,426 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/527c83433216:7848>'}.

2024-04-25 17:50:57,426 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/527c83433216:7848>'}.

2024-04-25 17:50:57,426 INFO The number of active nodes decrement to 1.

2024-04-25 17:50:57,426 INFO Node <naming_instance_metadata/527c83433216:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2024-04-25 17:50:57,426 INFO Stop the RaftGroupService successfully.

2024-04-25 17:50:57,426 INFO Node <naming_persistent_service_v2/527c83433216:7848> shutdown, currTerm=1 state=STATE_LEADER.

2024-04-25 17:50:57,426 INFO Fail to find the next candidate.

2024-04-25 17:50:57,426 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2024-04-25 17:50:57,432 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=527c83433216:7848, cost time=1 ms

2024-04-25 17:50:57,432 INFO Shutting down FSMCaller...

2024-04-25 17:50:57,432 INFO onShutdown.

2024-04-25 17:50:57,432 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@65b0e771[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:50:57,432 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6453c4ce[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:50:57,433 INFO The number of active nodes decrement to 0.

2024-04-25 17:50:57,433 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@155533bf[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2024-04-25 17:50:57,433 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/527c83433216:7848>'}.

2024-04-25 17:50:57,433 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5e2c9f87[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2024-04-25 17:50:57,433 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/527c83433216:7848>'}.

2024-04-25 17:50:57,434 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@17480a4d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1854].

2024-04-25 17:50:57,434 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/527c83433216:7848>'}.

2024-04-25 17:50:57,434 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6b25ce09[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2].

2024-04-25 17:50:57,434 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/527c83433216:7848>'}.

2024-04-25 17:50:57,434 INFO Node <naming_persistent_service_v2/527c83433216:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2024-04-25 17:50:57,434 INFO Stop the RaftGroupService successfully.

2024-04-25 17:50:57,434 INFO Shutdown managed channel: 527c83433216:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=527c83433216:7848}}.

2024-04-25 17:50:57,456 INFO Connection disconnected: /172.17.0.4:36968

2024-04-25 17:50:57,460 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4d6f7a6f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1088].

2024-04-25 17:51:39,706 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2024-04-25 17:51:39,778 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2024-04-25 17:51:40,072 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2024-04-25 17:51:40,073 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2024-04-25 17:51:40,073 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2024-04-25 17:51:40,080 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2024-04-25 17:51:40,091 INFO The number of active nodes increment to 1.

2024-04-25 17:51:40,702 INFO Starts FSMCaller successfully.

2024-04-25 17:51:40,710 INFO Loading snapshot, meta=last_included_index: 1
last_included_term: 1
peers: "527c83433216:7848"
.

2024-04-25 17:51:40,860 INFO Node <naming_persistent_service_v2/527c83433216:7848> onSnapshotLoadDone, last_included_index: 1
last_included_term: 1
peers: "527c83433216:7848"


2024-04-25 17:51:40,867 INFO Node <naming_persistent_service_v2/527c83433216:7848> target priority value has changed from: 0, to: -1.

2024-04-25 17:51:40,923 INFO Node <naming_persistent_service_v2/527c83433216:7848> init, term=1, lastLogId=LogId [index=1, term=1], conf=527c83433216:7848, oldConf=.

2024-04-25 17:51:40,944 INFO Node <naming_persistent_service_v2/527c83433216:7848> start vote and grant vote self, term=1.

2024-04-25 17:51:41,000 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=527c83433216:7848, cost time=44 ms

2024-04-25 17:51:41,001 INFO Node <naming_persistent_service_v2/527c83433216:7848> become leader of group, term=2, conf=527c83433216:7848, oldConf=.

2024-04-25 17:51:41,009 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2024-04-25 17:51:41,015 WARN RPC server is not started in RaftGroupService.

2024-04-25 17:51:41,016 INFO Start the RaftGroupService successfully.

2024-04-25 17:51:41,023 INFO onLeaderStart: term=2.

2024-04-25 17:51:41,074 INFO The number of active nodes increment to 2.

2024-04-25 17:51:41,283 WARN Channel in TRANSIENT_FAILURE state: 527c83433216:7848.

2024-04-25 17:51:41,283 WARN Channel in SHUTDOWN state: 527c83433216:7848.

2024-04-25 17:51:41,324 INFO Starts FSMCaller successfully.

2024-04-25 17:51:41,325 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2024-04-25 17:51:41,325 INFO Node <naming_instance_metadata/527c83433216:7848> target priority value has changed from: 0, to: -1.

2024-04-25 17:51:41,341 INFO Node <naming_instance_metadata/527c83433216:7848> init, term=1, lastLogId=LogId [index=1, term=1], conf=527c83433216:7848, oldConf=.

2024-04-25 17:51:41,342 INFO Node <naming_instance_metadata/527c83433216:7848> start vote and grant vote self, term=1.

2024-04-25 17:51:41,354 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=527c83433216:7848, cost time=10 ms

2024-04-25 17:51:41,354 INFO Node <naming_instance_metadata/527c83433216:7848> become leader of group, term=2, conf=527c83433216:7848, oldConf=.

2024-04-25 17:51:41,354 WARN RPC server is not started in RaftGroupService.

2024-04-25 17:51:41,354 INFO Start the RaftGroupService successfully.

2024-04-25 17:51:41,395 INFO The number of active nodes increment to 3.

2024-04-25 17:51:41,448 INFO onLeaderStart: term=2.

2024-04-25 17:51:41,561 INFO Starts FSMCaller successfully.

2024-04-25 17:51:41,562 INFO Loading snapshot, meta=last_included_index: 1
last_included_term: 1
peers: "527c83433216:7848"
.

2024-04-25 17:51:41,571 INFO Node <naming_service_metadata/527c83433216:7848> onSnapshotLoadDone, last_included_index: 1
last_included_term: 1
peers: "527c83433216:7848"


2024-04-25 17:51:41,571 INFO Node <naming_service_metadata/527c83433216:7848> target priority value has changed from: 0, to: -1.

2024-04-25 17:51:41,572 INFO Node <naming_service_metadata/527c83433216:7848> init, term=1, lastLogId=LogId [index=1, term=1], conf=527c83433216:7848, oldConf=.

2024-04-25 17:51:41,573 INFO Node <naming_service_metadata/527c83433216:7848> start vote and grant vote self, term=1.

2024-04-25 17:51:41,596 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=527c83433216:7848, cost time=23 ms

2024-04-25 17:51:41,596 INFO Node <naming_service_metadata/527c83433216:7848> become leader of group, term=2, conf=527c83433216:7848, oldConf=.

2024-04-25 17:51:41,596 WARN RPC server is not started in RaftGroupService.

2024-04-25 17:51:41,596 INFO Start the RaftGroupService successfully.

2024-04-25 17:51:41,604 INFO onLeaderStart: term=2.

2024-04-25 17:52:52,907 INFO Node <naming_service_metadata/527c83433216:7848> shutdown, currTerm=2 state=STATE_LEADER.

2024-04-25 17:52:52,920 INFO Fail to find the next candidate.

2024-04-25 17:52:52,921 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2024-04-25 17:52:52,966 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=2, votedFor=527c83433216:7848, cost time=27 ms

2024-04-25 17:52:52,966 INFO Shutting down FSMCaller...

2024-04-25 17:52:52,966 INFO onShutdown.

2024-04-25 17:52:52,968 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5e59cb8[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:52:52,968 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@660b92c1[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:52:52,968 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/527c83433216:7848>'}.

2024-04-25 17:52:52,968 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/527c83433216:7848>'}.

2024-04-25 17:52:52,968 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/527c83433216:7848>'}.

2024-04-25 17:52:52,968 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/527c83433216:7848>'}.

2024-04-25 17:52:52,969 INFO The number of active nodes decrement to 2.

2024-04-25 17:52:52,970 INFO Node <naming_service_metadata/527c83433216:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2024-04-25 17:52:52,970 INFO Stop the RaftGroupService successfully.

2024-04-25 17:52:52,970 INFO Node <naming_instance_metadata/527c83433216:7848> shutdown, currTerm=2 state=STATE_LEADER.

2024-04-25 17:52:52,970 INFO Fail to find the next candidate.

2024-04-25 17:52:52,970 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2024-04-25 17:52:53,000 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=2, votedFor=527c83433216:7848, cost time=16 ms

2024-04-25 17:52:53,000 INFO Shutting down FSMCaller...

2024-04-25 17:52:53,000 INFO onShutdown.

2024-04-25 17:52:53,007 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@67da49c1[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:52:53,008 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4b8ca77c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:52:53,008 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/527c83433216:7848>'}.

2024-04-25 17:52:53,008 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/527c83433216:7848>'}.

2024-04-25 17:52:53,008 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/527c83433216:7848>'}.

2024-04-25 17:52:53,008 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/527c83433216:7848>'}.

2024-04-25 17:52:53,008 INFO The number of active nodes decrement to 1.

2024-04-25 17:52:53,009 INFO Node <naming_instance_metadata/527c83433216:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2024-04-25 17:52:53,009 INFO Stop the RaftGroupService successfully.

2024-04-25 17:52:53,009 INFO Node <naming_persistent_service_v2/527c83433216:7848> shutdown, currTerm=2 state=STATE_LEADER.

2024-04-25 17:52:53,009 INFO Fail to find the next candidate.

2024-04-25 17:52:53,009 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2024-04-25 17:52:53,055 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=2, votedFor=527c83433216:7848, cost time=45 ms

2024-04-25 17:52:53,055 INFO Shutting down FSMCaller...

2024-04-25 17:52:53,055 INFO onShutdown.

2024-04-25 17:52:53,056 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@27e967cc[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:52:53,056 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1248b6b1[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:52:53,056 INFO The number of active nodes decrement to 0.

2024-04-25 17:52:53,057 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@36cdb42b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2024-04-25 17:52:53,057 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/527c83433216:7848>'}.

2024-04-25 17:52:53,057 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@57395e15[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2024-04-25 17:52:53,057 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/527c83433216:7848>'}.

2024-04-25 17:52:53,057 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@e3938b5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 84].

2024-04-25 17:52:53,057 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/527c83433216:7848>'}.

2024-04-25 17:52:53,057 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@615ae13d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2024-04-25 17:52:53,058 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/527c83433216:7848>'}.

2024-04-25 17:52:53,058 INFO Node <naming_persistent_service_v2/527c83433216:7848> shutdown, currTerm=2 state=STATE_SHUTTING.

2024-04-25 17:52:53,058 INFO Stop the RaftGroupService successfully.

2024-04-25 17:52:53,058 INFO Shutdown managed channel: 527c83433216:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=527c83433216:7848}}.

2024-04-25 17:52:53,085 INFO Connection disconnected: /172.17.0.4:37064

2024-04-25 17:52:53,131 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4923f33[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 58].

2024-04-25 17:54:38,941 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2024-04-25 17:54:39,004 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2024-04-25 17:54:39,271 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2024-04-25 17:54:39,271 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2024-04-25 17:54:39,272 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2024-04-25 17:54:39,274 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2024-04-25 17:54:39,278 INFO The number of active nodes increment to 1.

2024-04-25 17:54:39,681 INFO Starts FSMCaller successfully.

2024-04-25 17:54:39,693 INFO Loading snapshot, meta=last_included_index: 1
last_included_term: 1
peers: "527c83433216:7848"
.

2024-04-25 17:54:39,878 INFO Node <naming_persistent_service_v2/527c83433216:7848> onSnapshotLoadDone, last_included_index: 1
last_included_term: 1
peers: "527c83433216:7848"


2024-04-25 17:54:39,881 INFO Node <naming_persistent_service_v2/527c83433216:7848> target priority value has changed from: 0, to: -1.

2024-04-25 17:54:39,999 INFO Node <naming_persistent_service_v2/527c83433216:7848> init, term=2, lastLogId=LogId [index=2, term=2], conf=527c83433216:7848, oldConf=.

2024-04-25 17:54:40,020 INFO Node <naming_persistent_service_v2/527c83433216:7848> start vote and grant vote self, term=2.

2024-04-25 17:54:40,119 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=3, votedFor=527c83433216:7848, cost time=79 ms

2024-04-25 17:54:40,119 INFO Node <naming_persistent_service_v2/527c83433216:7848> become leader of group, term=3, conf=527c83433216:7848, oldConf=.

2024-04-25 17:54:40,133 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2024-04-25 17:54:40,159 WARN RPC server is not started in RaftGroupService.

2024-04-25 17:54:40,159 INFO Start the RaftGroupService successfully.

2024-04-25 17:54:40,172 INFO onLeaderStart: term=3.

2024-04-25 17:54:40,236 INFO The number of active nodes increment to 2.

2024-04-25 17:54:40,863 INFO Starts FSMCaller successfully.

2024-04-25 17:54:40,864 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2024-04-25 17:54:40,864 INFO Node <naming_instance_metadata/527c83433216:7848> target priority value has changed from: 0, to: -1.

2024-04-25 17:54:40,886 INFO Node <naming_instance_metadata/527c83433216:7848> init, term=2, lastLogId=LogId [index=2, term=2], conf=527c83433216:7848, oldConf=.

2024-04-25 17:54:40,886 INFO Node <naming_instance_metadata/527c83433216:7848> start vote and grant vote self, term=2.

2024-04-25 17:54:40,902 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=3, votedFor=527c83433216:7848, cost time=9 ms

2024-04-25 17:54:40,903 INFO Node <naming_instance_metadata/527c83433216:7848> become leader of group, term=3, conf=527c83433216:7848, oldConf=.

2024-04-25 17:54:40,903 WARN RPC server is not started in RaftGroupService.

2024-04-25 17:54:40,903 INFO Start the RaftGroupService successfully.

2024-04-25 17:54:40,926 INFO onLeaderStart: term=3.

2024-04-25 17:54:40,929 INFO The number of active nodes increment to 3.

2024-04-25 17:54:40,971 WARN Channel in TRANSIENT_FAILURE state: 527c83433216:7848.

2024-04-25 17:54:40,971 WARN Channel in SHUTDOWN state: 527c83433216:7848.

2024-04-25 17:54:41,520 INFO Starts FSMCaller successfully.

2024-04-25 17:54:41,522 INFO Loading snapshot, meta=last_included_index: 1
last_included_term: 1
peers: "527c83433216:7848"
.

2024-04-25 17:54:41,524 INFO Node <naming_service_metadata/527c83433216:7848> onSnapshotLoadDone, last_included_index: 1
last_included_term: 1
peers: "527c83433216:7848"


2024-04-25 17:54:41,524 INFO Node <naming_service_metadata/527c83433216:7848> target priority value has changed from: 0, to: -1.

2024-04-25 17:54:41,574 INFO Node <naming_service_metadata/527c83433216:7848> init, term=2, lastLogId=LogId [index=2, term=2], conf=527c83433216:7848, oldConf=.

2024-04-25 17:54:41,574 INFO Node <naming_service_metadata/527c83433216:7848> start vote and grant vote self, term=2.

2024-04-25 17:54:41,584 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=3, votedFor=527c83433216:7848, cost time=10 ms

2024-04-25 17:54:41,584 INFO Node <naming_service_metadata/527c83433216:7848> become leader of group, term=3, conf=527c83433216:7848, oldConf=.

2024-04-25 17:54:41,585 WARN RPC server is not started in RaftGroupService.

2024-04-25 17:54:41,585 INFO Start the RaftGroupService successfully.

2024-04-25 17:54:41,601 INFO onLeaderStart: term=3.

2024-04-25 17:54:41,986 ERROR Fail to connect 527c83433216:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 0.545225064s. [buffered_nanos=554320629, waiting_for_connection].

2024-04-25 17:54:41,987 ERROR Fail to connect peer 527c83433216:7848 to get leader for group naming_persistent_service_v2.

2024-04-25 17:54:42,019 ERROR Fail to connect 527c83433216:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 0.643377788s. [buffered_nanos=690977697, waiting_for_connection].

2024-04-25 17:54:42,019 ERROR Fail to connect peer 527c83433216:7848 to get leader for group naming_instance_metadata.

